{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data.service\";\nimport * as i2 from \"@angular/common\";\nfunction DopplerRangeComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Peak: \", ctx_r0.dopplerData.peak_frequency, \"Hz\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Max Amplitude: \", ctx_r0.dopplerData.max_amplitude, \"\");\n  }\n}\nfunction DopplerRangeComponent_div_6__svg_circle_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"circle\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"cx\", (ctx_r3.dopplerData.peak_frequency + 25) / 50 * ctx_r3.chartWidth)(\"cy\", ctx_r3.chartHeight - ctx_r3.dopplerData.max_amplitude / ctx_r3.dopplerData.max_amplitude * ctx_r3.chartHeight);\n  }\n}\nfunction DopplerRangeComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 9);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 9);\n    i0.ɵɵtext(11, \"0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"div\", 11);\n    i0.ɵɵelement(14, \"div\", 12)(15, \"div\", 13)(16, \"div\", 14)(17, \"div\", 15)(18, \"div\", 16)(19, \"div\", 17)(20, \"div\", 18)(21, \"div\", 19)(22, \"div\", 20)(23, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(24, \"svg\", 22);\n    i0.ɵɵelement(25, \"polyline\", 23);\n    i0.ɵɵtemplate(26, DopplerRangeComponent_div_6__svg_circle_26_Template, 1, 2, \"circle\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(27, \"div\", 25)(28, \"span\", 26);\n    i0.ɵɵtext(29, \"-25Hz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"span\", 26);\n    i0.ɵɵtext(31, \"-12.5Hz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\", 26);\n    i0.ɵɵtext(33, \"0Hz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 26);\n    i0.ɵɵtext(35, \"12.5Hz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"span\", 26);\n    i0.ɵɵtext(37, \"25Hz\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.dopplerData.max_amplitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((ctx_r1.dopplerData.max_amplitude * 0.75).toFixed(0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((ctx_r1.dopplerData.max_amplitude * 0.5).toFixed(0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((ctx_r1.dopplerData.max_amplitude * 0.25).toFixed(0));\n    i0.ɵɵadvance(15);\n    i0.ɵɵattribute(\"viewBox\", \"0 0 \" + ctx_r1.chartWidth + \" \" + ctx_r1.chartHeight);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"points\", ctx_r1.chartPoints);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.dopplerData);\n  }\n}\nfunction DopplerRangeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Loading Doppler data... \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DopplerRangeComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.dopplerData = null;\n    this.chartPoints = '';\n    this.chartWidth = 300;\n    this.chartHeight = 200;\n  }\n  ngOnInit() {\n    this.fetchDopplerData();\n  }\n  fetchDopplerData() {\n    console.log('Fetching Doppler data...');\n    this.dataService.getDoppler().subscribe({\n      next: data => {\n        console.log('Doppler data received:', data);\n        this.dopplerData = data;\n        this.generateChartPoints();\n      },\n      error: error => {\n        console.error('Error fetching Doppler data:', error);\n      }\n    });\n  }\n  generateChartPoints() {\n    if (!this.dopplerData || !this.dopplerData.frequencies || !this.dopplerData.amplitudes) {\n      console.error('Invalid doppler data for chart generation');\n      return;\n    }\n    const points = [];\n    const maxAmplitude = this.dopplerData.max_amplitude;\n    this.dopplerData.frequencies.forEach((freq, index) => {\n      const amplitude = this.dopplerData.amplitudes[index];\n      // Convert frequency to x position (0 to chartWidth)\n      const x = (freq + 25) / 50 * this.chartWidth; // freq range: -25 to +25\n      // Convert amplitude to y position (inverted, 0 at top)\n      const y = this.chartHeight - amplitude / maxAmplitude * this.chartHeight;\n      points.push(`${x.toFixed(1)},${y.toFixed(1)}`);\n    });\n    this.chartPoints = points.join(' ');\n    console.log('Chart points generated:', this.chartPoints.substring(0, 100) + '...');\n  }\n  static {\n    this.ɵfac = function DopplerRangeComponent_Factory(t) {\n      return new (t || DopplerRangeComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DopplerRangeComponent,\n      selectors: [[\"app-doppler-range\"]],\n      decls: 8,\n      vars: 3,\n      consts: [[1, \"doppler-range-container\"], [1, \"doppler-header\"], [\"class\", \"doppler-info\", 4, \"ngIf\"], [1, \"doppler-visualization\"], [\"class\", \"chart-container\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [1, \"doppler-info\"], [1, \"chart-container\"], [1, \"y-axis\"], [1, \"y-label\"], [1, \"chart-area\"], [1, \"grid-lines\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"0%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"25%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"50%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"75%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"100%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"0%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"25%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"50%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"75%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"100%\"], [\"preserveAspectRatio\", \"none\", 1, \"line-graph\"], [\"fill\", \"none\", \"stroke\", \"#00d4ff\", \"stroke-width\", \"2\"], [\"r\", \"3\", \"fill\", \"#ff4444\", 4, \"ngIf\"], [1, \"x-axis\"], [1, \"x-label\"], [\"r\", \"3\", \"fill\", \"#ff4444\"], [1, \"loading\"]],\n      template: function DopplerRangeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n          i0.ɵɵtext(3, \"Doppler Frequency Analysis\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, DopplerRangeComponent_div_4_Template, 5, 2, \"div\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3);\n          i0.ɵɵtemplate(6, DopplerRangeComponent_div_6_Template, 38, 7, \"div\", 4);\n          i0.ɵɵtemplate(7, DopplerRangeComponent_div_7_Template, 2, 0, \"div\", 5);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.dopplerData);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.dopplerData && ctx.chartPoints);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.dopplerData);\n        }\n      },\n      dependencies: [i2.NgIf],\n      styles: [\".doppler-range-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 300px;\\n  padding: 16px;\\n  background-color: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.doppler-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 16px;\\n}\\n\\n.doppler-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #0a2540;\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n\\n.doppler-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  font-size: 12px;\\n  color: #666;\\n}\\n\\n.doppler-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  background-color: #f0f8ff;\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  border: 1px solid #00d4ff;\\n}\\n\\n.chart-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  height: 200px;\\n  gap: 8px;\\n}\\n\\n.y-axis[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column-reverse;\\n  justify-content: space-between;\\n  width: 40px;\\n  padding-right: 8px;\\n}\\n\\n.y-label[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: #666;\\n  text-align: right;\\n}\\n\\n.chart-area[_ngcontent-%COMP%] {\\n  flex: 1;\\n  position: relative;\\n  border: 1px solid #e0e0e0;\\n  border-radius: 4px;\\n  background-color: #fafafa;\\n}\\n\\n.grid-lines[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.grid-line[_ngcontent-%COMP%] {\\n  position: absolute;\\n  background-color: #e0e0e0;\\n}\\n\\n.grid-line.horizontal[_ngcontent-%COMP%] {\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n}\\n\\n.grid-line.vertical[_ngcontent-%COMP%] {\\n  top: 0;\\n  bottom: 0;\\n  width: 1px;\\n}\\n\\n.line-graph[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.x-axis[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 8px;\\n  padding-left: 48px;\\n}\\n\\n.x-label[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: #666;\\n  text-align: center;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n  color: #666;\\n  font-style: italic;\\n}\\n\\n.doppler-bar[_ngcontent-%COMP%] {\\n  width: 15%;\\n  background: linear-gradient(to top, var(--primary-color), var(--accent-color));\\n  border-radius: var(--border-radius-sm);\\n  animation: _ngcontent-%COMP%_rise 0.5s ease-out forwards;\\n  transform: scaleY(0);\\n  transform-origin: bottom;\\n}\\n\\n@keyframes _ngcontent-%COMP%_rise {\\n  from {\\n    transform: scaleY(0);\\n  }\\n  to {\\n    transform: scaleY(1);\\n  }\\n}\\n\\n.doppler-info[_ngcontent-%COMP%] {\\n  margin-top: var(--spacing-md);\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.range-info[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: var(--dark-gray);\\n}\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kb3BwbGVyLXJhbmdlL2RvcHBsZXItcmFuZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxjQUFjO0VBQ2QsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0VBQ1QsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixhQUFhO0VBQ2IsUUFBUTtBQUNWOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5Qiw4QkFBOEI7RUFDOUIsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0VBQ1gsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsT0FBTztFQUNQLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsT0FBTztFQUNQLFFBQVE7RUFDUixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxNQUFNO0VBQ04sU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0VBQ1QsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsOEVBQThFO0VBQzlFLHNDQUFzQztFQUN0QyxzQ0FBc0M7RUFDdEMsb0JBQW9CO0VBQ3BCLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFO0lBQ0Usb0JBQW9CO0VBQ3RCO0VBQ0E7SUFDRSxvQkFBb0I7RUFDdEI7QUFDRjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2IsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLHVCQUF1QjtBQUN6Qjs7QUFFQSw4QkFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIuZG9wcGxlci1yYW5nZS1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBoZWlnaHQ6IDMwMHB4O1xyXG4gIHBhZGRpbmc6IDE2cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XHJcbn1cclxuXHJcbi5kb3BwbGVyLWhlYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG59XHJcblxyXG4uZG9wcGxlci1oZWFkZXIgaDMge1xyXG4gIG1hcmdpbjogMDtcclxuICBjb2xvcjogIzBhMjU0MDtcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmRvcHBsZXItaW5mbyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDE2cHg7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG59XHJcblxyXG4uZG9wcGxlci1pbmZvIHNwYW4ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGY4ZmY7XHJcbiAgcGFkZGluZzogNHB4IDhweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzAwZDRmZjtcclxufVxyXG5cclxuLmNoYXJ0LWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBoZWlnaHQ6IDIwMHB4O1xyXG4gIGdhcDogOHB4O1xyXG59XHJcblxyXG4ueS1heGlzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgd2lkdGg6IDQwcHg7XHJcbiAgcGFkZGluZy1yaWdodDogOHB4O1xyXG59XHJcblxyXG4ueS1sYWJlbCB7XHJcbiAgZm9udC1zaXplOiAxMHB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG59XHJcblxyXG4uY2hhcnQtYXJlYSB7XHJcbiAgZmxleDogMTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcclxufVxyXG5cclxuLmdyaWQtbGluZXMge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICBib3R0b206IDA7XHJcbn1cclxuXHJcbi5ncmlkLWxpbmUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwO1xyXG59XHJcblxyXG4uZ3JpZC1saW5lLmhvcml6b250YWwge1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgaGVpZ2h0OiAxcHg7XHJcbn1cclxuXHJcbi5ncmlkLWxpbmUudmVydGljYWwge1xyXG4gIHRvcDogMDtcclxuICBib3R0b206IDA7XHJcbiAgd2lkdGg6IDFweDtcclxufVxyXG5cclxuLmxpbmUtZ3JhcGgge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICBib3R0b206IDA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4ueC1heGlzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgcGFkZGluZy1sZWZ0OiA0OHB4O1xyXG59XHJcblxyXG4ueC1sYWJlbCB7XHJcbiAgZm9udC1zaXplOiAxMHB4O1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmxvYWRpbmcge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgY29sb3I6ICM2NjY7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcblxyXG4uZG9wcGxlci1iYXIge1xyXG4gIHdpZHRoOiAxNSU7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgdmFyKC0tcHJpbWFyeS1jb2xvciksIHZhcigtLWFjY2VudC1jb2xvcikpO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc20pO1xyXG4gIGFuaW1hdGlvbjogcmlzZSAwLjVzIGVhc2Utb3V0IGZvcndhcmRzO1xyXG4gIHRyYW5zZm9ybTogc2NhbGVZKDApO1xyXG4gIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbTtcclxufVxyXG5cclxuQGtleWZyYW1lcyByaXNlIHtcclxuICBmcm9tIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGVZKDApO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlWSgxKTtcclxuICB9XHJcbn1cclxuXHJcbi5kb3BwbGVyLWluZm8ge1xyXG4gIG1hcmdpbi10b3A6IHZhcigtLXNwYWNpbmctbWQpO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4ucmFuZ2UtaW5mbyB7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgY29sb3I6IHZhcigtLWRhcmstZ3JheSk7XHJcbn1cclxuXHJcbi8qIFRPRE86IGltcGxlbWVudCBhbmltYXRpb24gKi9cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","dopplerData","peak_frequency","max_amplitude","ɵɵelement","ɵɵattribute","ctx_r3","chartWidth","chartHeight","ɵɵnamespaceSVG","ɵɵtemplate","DopplerRangeComponent_div_6__svg_circle_26_Template","ɵɵnamespaceHTML","ɵɵtextInterpolate","ctx_r1","toFixed","chartPoints","ɵɵproperty","DopplerRangeComponent","constructor","dataService","ngOnInit","fetchDopplerData","console","log","getDoppler","subscribe","next","data","generateChartPoints","error","frequencies","amplitudes","points","maxAmplitude","forEach","freq","index","amplitude","x","y","push","join","substring","ɵɵdirectiveInject","i1","DataService","selectors","decls","vars","consts","template","DopplerRangeComponent_Template","rf","ctx","DopplerRangeComponent_div_4_Template","DopplerRangeComponent_div_6_Template","DopplerRangeComponent_div_7_Template"],"sources":["C:\\Users\\hibab\\Desktop\\WLCN\\frontend\\src\\app\\components\\doppler-range\\doppler-range.component.ts","C:\\Users\\hibab\\Desktop\\WLCN\\frontend\\src\\app\\components\\doppler-range\\doppler-range.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../../services/data.service';\r\n\r\ninterface DopplerData {\r\n  frequencies: number[];\r\n  amplitudes: number[];\r\n  max_amplitude: number;\r\n  peak_frequency: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-doppler-range',\r\n  templateUrl: './doppler-range.component.html',\r\n  styleUrls: ['./doppler-range.component.css']\r\n})\r\nexport class DopplerRangeComponent implements OnInit {\r\n  dopplerData: DopplerData | null = null;\r\n  chartPoints: string = '';\r\n  chartWidth = 300;\r\n  chartHeight = 200;\r\n\r\n  constructor(private dataService: DataService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchDopplerData();\r\n  }\r\n\r\n  fetchDopplerData(): void {\r\n    console.log('Fetching Doppler data...');\r\n    this.dataService.getDoppler().subscribe({\r\n      next: (data: DopplerData) => {\r\n        console.log('Doppler data received:', data);\r\n        this.dopplerData = data;\r\n        this.generateChartPoints();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error fetching Doppler data:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  private generateChartPoints(): void {\r\n    if (!this.dopplerData || !this.dopplerData.frequencies || !this.dopplerData.amplitudes) {\r\n      console.error('Invalid doppler data for chart generation');\r\n      return;\r\n    }\r\n\r\n    const points: string[] = [];\r\n    const maxAmplitude = this.dopplerData.max_amplitude;\r\n    \r\n    this.dopplerData.frequencies.forEach((freq, index) => {\r\n      const amplitude = this.dopplerData!.amplitudes[index];\r\n      \r\n      // Convert frequency to x position (0 to chartWidth)\r\n      const x = ((freq + 25) / 50) * this.chartWidth; // freq range: -25 to +25\r\n      \r\n      // Convert amplitude to y position (inverted, 0 at top)\r\n      const y = this.chartHeight - (amplitude / maxAmplitude) * this.chartHeight;\r\n      \r\n      points.push(`${x.toFixed(1)},${y.toFixed(1)}`);\r\n    });\r\n    \r\n    this.chartPoints = points.join(' ');\r\n    console.log('Chart points generated:', this.chartPoints.substring(0, 100) + '...');\r\n  }\r\n}\r\n\r\n","<div class=\"doppler-range-container\">\r\n  <div class=\"doppler-header\">\r\n    <h3>Doppler Frequency Analysis</h3>\r\n    <div class=\"doppler-info\" *ngIf=\"dopplerData\">\r\n      <span>Peak: {{ dopplerData.peak_frequency }}Hz</span>\r\n      <span>Max Amplitude: {{ dopplerData.max_amplitude }}</span>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"doppler-visualization\">\r\n    <div class=\"chart-container\" *ngIf=\"dopplerData && chartPoints\">\r\n      <!-- Y-axis labels -->\r\n      <div class=\"y-axis\">\r\n        <span class=\"y-label\">{{ dopplerData.max_amplitude }}</span>\r\n        <span class=\"y-label\">{{ (dopplerData.max_amplitude * 0.75).toFixed(0) }}</span>\r\n        <span class=\"y-label\">{{ (dopplerData.max_amplitude * 0.5).toFixed(0) }}</span>\r\n        <span class=\"y-label\">{{ (dopplerData.max_amplitude * 0.25).toFixed(0) }}</span>\r\n        <span class=\"y-label\">0</span>\r\n      </div>\r\n      \r\n      <!-- Chart area -->\r\n      <div class=\"chart-area\">\r\n        <!-- Grid lines -->\r\n        <div class=\"grid-lines\">\r\n          <!-- Horizontal grid lines -->\r\n          <div class=\"grid-line horizontal\" style=\"bottom: 0%\"></div>\r\n          <div class=\"grid-line horizontal\" style=\"bottom: 25%\"></div>\r\n          <div class=\"grid-line horizontal\" style=\"bottom: 50%\"></div>\r\n          <div class=\"grid-line horizontal\" style=\"bottom: 75%\"></div>\r\n          <div class=\"grid-line horizontal\" style=\"bottom: 100%\"></div>\r\n          \r\n          <!-- Vertical grid lines -->\r\n          <div class=\"grid-line vertical\" style=\"left: 0%\"></div>\r\n          <div class=\"grid-line vertical\" style=\"left: 25%\"></div>\r\n          <div class=\"grid-line vertical\" style=\"left: 50%\"></div>\r\n          <div class=\"grid-line vertical\" style=\"left: 75%\"></div>\r\n          <div class=\"grid-line vertical\" style=\"left: 100%\"></div>\r\n        </div>\r\n        \r\n        <!-- Data line -->\r\n        <svg class=\"line-graph\" [attr.viewBox]=\"'0 0 ' + chartWidth + ' ' + chartHeight\" preserveAspectRatio=\"none\">\r\n          <polyline [attr.points]=\"chartPoints\" \r\n                  fill=\"none\" \r\n                  stroke=\"#00d4ff\" \r\n                  stroke-width=\"2\"/>\r\n          \r\n          <!-- Peak frequency marker -->\r\n          <circle *ngIf=\"dopplerData\"\r\n                 [attr.cx]=\"((dopplerData.peak_frequency + 25) / 50) * chartWidth\"\r\n                 [attr.cy]=\"chartHeight - (dopplerData.max_amplitude / dopplerData.max_amplitude) * chartHeight\"\r\n                 r=\"3\" \r\n                 fill=\"#ff4444\"/>\r\n        </svg>\r\n      </div>\r\n      \r\n      <!-- X-axis labels -->\r\n      <div class=\"x-axis\">\r\n        <span class=\"x-label\">-25Hz</span>\r\n        <span class=\"x-label\">-12.5Hz</span>\r\n        <span class=\"x-label\">0Hz</span>\r\n        <span class=\"x-label\">12.5Hz</span>\r\n        <span class=\"x-label\">25Hz</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"loading\" *ngIf=\"!dopplerData\">\r\n      Loading Doppler data...\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}