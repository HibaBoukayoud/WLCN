{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data.service\";\nimport * as i2 from \"@angular/common\";\nfunction DopplerRangeComponent_div_5__svg_circle_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"circle\", 27);\n  }\n  if (rf & 2) {\n    const hour_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"cx\", hour_r3 / 23 * ctx_r2.chartWidth)(\"cy\", ctx_r2.chartHeight - ctx_r2.dopplerData.distances[i_r4] / 5 * ctx_r2.chartHeight);\n  }\n}\nfunction DopplerRangeComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7)(3, \"span\", 8);\n    i0.ɵɵtext(4, \"0m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 8);\n    i0.ɵɵtext(6, \"1m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 8);\n    i0.ɵɵtext(8, \"2m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 8);\n    i0.ɵɵtext(10, \"3m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 8);\n    i0.ɵɵtext(12, \"4m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 8);\n    i0.ɵɵtext(14, \"5m\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 10);\n    i0.ɵɵelement(17, \"div\", 11)(18, \"div\", 12)(19, \"div\", 13)(20, \"div\", 14)(21, \"div\", 15)(22, \"div\", 16)(23, \"div\", 17)(24, \"div\", 18)(25, \"div\", 19)(26, \"div\", 20)(27, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(28, \"svg\", 22);\n    i0.ɵɵelement(29, \"polyline\", 23);\n    i0.ɵɵtemplate(30, DopplerRangeComponent_div_5__svg_circle_30_Template, 1, 2, \"circle\", 24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(31, \"div\", 25)(32, \"span\", 26);\n    i0.ɵɵtext(33, \"0h\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 26);\n    i0.ɵɵtext(35, \"6h\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"span\", 26);\n    i0.ɵɵtext(37, \"12h\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 26);\n    i0.ɵɵtext(39, \"18h\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"span\", 26);\n    i0.ɵɵtext(41, \"24h\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(28);\n    i0.ɵɵattribute(\"viewBox\", \"0 0 \" + ctx_r0.chartWidth + \" \" + ctx_r0.chartHeight);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"points\", ctx_r0.chartPoints);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.dopplerData.hours);\n  }\n}\nfunction DopplerRangeComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Loading data... \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DopplerRangeComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.dopplerData = null;\n    this.chartPoints = '';\n    this.chartWidth = 300;\n    this.chartHeight = 200;\n  }\n  ngOnInit() {\n    this.fetchDopplerData();\n  }\n  fetchDopplerData() {\n    console.log('Fetching Doppler data...');\n    this.dataService.getDoppler().subscribe({\n      next: data => {\n        console.log('Doppler data received:', data);\n        this.dopplerData = data;\n        this.generateChartPoints();\n      },\n      error: error => {\n        console.error('Error fetching Doppler data:', error);\n      }\n    });\n  }\n  generateChartPoints() {\n    if (!this.dopplerData || !this.dopplerData.hours || !this.dopplerData.distances) {\n      console.error('Invalid doppler data for chart generation');\n      return;\n    }\n    const points = [];\n    this.dopplerData.hours.forEach((hour, index) => {\n      const distance = this.dopplerData.distances[index];\n      // Convert hour to x position (0 to chartWidth)\n      const x = hour / 23 * this.chartWidth;\n      // Convert distance to y position (0m at bottom, 5m at top)\n      const y = distance / 5 * this.chartHeight;\n      points.push(`${x.toFixed(1)},${y.toFixed(1)}`);\n    });\n    this.chartPoints = points.join(' ');\n    console.log('Chart points generated');\n  }\n  static {\n    this.ɵfac = function DopplerRangeComponent_Factory(t) {\n      return new (t || DopplerRangeComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DopplerRangeComponent,\n      selectors: [[\"app-doppler-range\"]],\n      decls: 7,\n      vars: 2,\n      consts: [[1, \"doppler-range-container\"], [1, \"doppler-header\"], [1, \"doppler-visualization\"], [\"class\", \"chart-container\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [1, \"chart-container\"], [1, \"chart-content\"], [1, \"y-axis\"], [1, \"y-label\"], [1, \"chart-area\"], [1, \"grid-lines\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"0%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"20%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"40%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"60%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"80%\"], [1, \"grid-line\", \"horizontal\", 2, \"bottom\", \"100%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"0%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"25%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"50%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"75%\"], [1, \"grid-line\", \"vertical\", 2, \"left\", \"100%\"], [\"preserveAspectRatio\", \"none\", 1, \"line-graph\"], [\"fill\", \"none\", \"stroke\", \"#00d4ff\", \"stroke-width\", \"2\"], [\"r\", \"3\", \"fill\", \"#00d4ff\", 4, \"ngFor\", \"ngForOf\"], [1, \"x-axis\"], [1, \"x-label\"], [\"r\", \"3\", \"fill\", \"#00d4ff\"], [1, \"loading\"]],\n      template: function DopplerRangeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n          i0.ɵɵtext(3, \"Distance vs Hours\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2);\n          i0.ɵɵtemplate(5, DopplerRangeComponent_div_5_Template, 42, 3, \"div\", 3);\n          i0.ɵɵtemplate(6, DopplerRangeComponent_div_6_Template, 2, 0, \"div\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.dopplerData && ctx.chartPoints);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.dopplerData);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf],\n      styles: [\".doppler-range-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 300px;\\n  padding: 16px;\\n  background-color: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.doppler-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 16px;\\n}\\n\\n.doppler-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #0a2540;\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n\\n.doppler-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  font-size: 12px;\\n  color: #666;\\n}\\n\\n.doppler-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  background-color: #f0f8ff;\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  border: 1px solid #00d4ff;\\n}\\n\\n.chart-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 200px;\\n  gap: 8px;\\n}\\n\\n.chart-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 8px;\\n  flex: 1;\\n}\\n\\n.y-axis[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column-reverse;\\n  justify-content: space-between;\\n  width: 40px;\\n  padding-right: 8px;\\n}\\n\\n.y-label[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: #666;\\n  text-align: right;\\n}\\n\\n.chart-area[_ngcontent-%COMP%] {\\n  flex: 1;\\n  position: relative;\\n  border: 1px solid #e0e0e0;\\n  border-radius: 4px;\\n  background-color: #fafafa;\\n}\\n\\n.grid-lines[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.grid-line[_ngcontent-%COMP%] {\\n  position: absolute;\\n  background-color: #e0e0e0;\\n}\\n\\n.grid-line.horizontal[_ngcontent-%COMP%] {\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n}\\n\\n.grid-line.vertical[_ngcontent-%COMP%] {\\n  top: 0;\\n  bottom: 0;\\n  width: 1px;\\n}\\n\\n.line-graph[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.x-axis[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-left: 48px;\\n}\\n\\n.x-label[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: #666;\\n  text-align: center;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n  color: #666;\\n  font-style: italic;\\n}\\n\\n.doppler-bar[_ngcontent-%COMP%] {\\n  width: 15%;\\n  background: linear-gradient(to top, var(--primary-color), var(--accent-color));\\n  border-radius: var(--border-radius-sm);\\n  animation: _ngcontent-%COMP%_rise 0.5s ease-out forwards;\\n  transform: scaleY(0);\\n  transform-origin: bottom;\\n}\\n\\n@keyframes _ngcontent-%COMP%_rise {\\n  from {\\n    transform: scaleY(0);\\n  }\\n  to {\\n    transform: scaleY(1);\\n  }\\n}\\n\\n.doppler-info[_ngcontent-%COMP%] {\\n  margin-top: var(--spacing-md);\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.range-info[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: var(--dark-gray);\\n}\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kb3BwbGVyLXJhbmdlL2RvcHBsZXItcmFuZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxjQUFjO0VBQ2QsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0VBQ1QsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLFFBQVE7QUFDVjs7QUFFQTtFQUNFLGFBQWE7RUFDYixRQUFRO0VBQ1IsT0FBTztBQUNUOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5Qiw4QkFBOEI7RUFDOUIsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0VBQ1gsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsT0FBTztFQUNQLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsT0FBTztFQUNQLFFBQVE7RUFDUixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxNQUFNO0VBQ04sU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0VBQ1QsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZUFBZTtFQUNmLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osV0FBVztFQUNYLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFVBQVU7RUFDViw4RUFBOEU7RUFDOUUsc0NBQXNDO0VBQ3RDLHNDQUFzQztFQUN0QyxvQkFBb0I7RUFDcEIsd0JBQXdCO0FBQzFCOztBQUVBO0VBQ0U7SUFDRSxvQkFBb0I7RUFDdEI7RUFDQTtJQUNFLG9CQUFvQjtFQUN0QjtBQUNGOztBQUVBO0VBQ0UsNkJBQTZCO0VBQzdCLGFBQWE7RUFDYiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsdUJBQXVCO0FBQ3pCOztBQUVBLDhCQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIi5kb3BwbGVyLXJhbmdlLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGhlaWdodDogMzAwcHg7XHJcbiAgcGFkZGluZzogMTZweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcclxufVxyXG5cclxuLmRvcHBsZXItaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbn1cclxuXHJcbi5kb3BwbGVyLWhlYWRlciBoMyB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiAjMGEyNTQwO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4uZG9wcGxlci1pbmZvIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMTZweDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM2NjY7XHJcbn1cclxuXHJcbi5kb3BwbGVyLWluZm8gc3BhbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjhmZjtcclxuICBwYWRkaW5nOiA0cHggOHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjMDBkNGZmO1xyXG59XHJcblxyXG4uY2hhcnQtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgaGVpZ2h0OiAyMDBweDtcclxuICBnYXA6IDhweDtcclxufVxyXG5cclxuLmNoYXJ0LWNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiA4cHg7XHJcbiAgZmxleDogMTtcclxufVxyXG5cclxuLnktYXhpcyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIHdpZHRoOiA0MHB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDhweDtcclxufVxyXG5cclxuLnktbGFiZWwge1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBjb2xvcjogIzY2NjtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuLmNoYXJ0LWFyZWEge1xyXG4gIGZsZXg6IDE7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XHJcbn1cclxuXHJcbi5ncmlkLWxpbmVzIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG59XHJcblxyXG4uZ3JpZC1saW5lIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDtcclxufVxyXG5cclxuLmdyaWQtbGluZS5ob3Jpem9udGFsIHtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGhlaWdodDogMXB4O1xyXG59XHJcblxyXG4uZ3JpZC1saW5lLnZlcnRpY2FsIHtcclxuICB0b3A6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHdpZHRoOiAxcHg7XHJcbn1cclxuXHJcbi5saW5lLWdyYXBoIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLngtYXhpcyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgbWFyZ2luLWxlZnQ6IDQ4cHg7XHJcbn1cclxuXHJcbi54LWxhYmVsIHtcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgY29sb3I6ICM2NjY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ubG9hZGluZyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBjb2xvcjogIzY2NjtcclxuICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbn1cclxuXHJcbi5kb3BwbGVyLWJhciB7XHJcbiAgd2lkdGg6IDE1JTtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSwgdmFyKC0tYWNjZW50LWNvbG9yKSk7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cy1zbSk7XHJcbiAgYW5pbWF0aW9uOiByaXNlIDAuNXMgZWFzZS1vdXQgZm9yd2FyZHM7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZVkoMCk7XHJcbiAgdHJhbnNmb3JtLW9yaWdpbjogYm90dG9tO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHJpc2Uge1xyXG4gIGZyb20ge1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZVkoMCk7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGVZKDEpO1xyXG4gIH1cclxufVxyXG5cclxuLmRvcHBsZXItaW5mbyB7XHJcbiAgbWFyZ2luLXRvcDogdmFyKC0tc3BhY2luZy1tZCk7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5yYW5nZS1pbmZvIHtcclxuICBmb250LXNpemU6IDAuOXJlbTtcclxuICBjb2xvcjogdmFyKC0tZGFyay1ncmF5KTtcclxufVxyXG5cclxuLyogVE9ETzogaW1wbGVtZW50IGFuaW1hdGlvbiAqL1xyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelement","ɵɵattribute","hour_r3","ctx_r2","chartWidth","chartHeight","dopplerData","distances","i_r4","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵnamespaceSVG","ɵɵtemplate","DopplerRangeComponent_div_5__svg_circle_30_Template","ɵɵnamespaceHTML","ɵɵadvance","ctx_r0","chartPoints","ɵɵproperty","hours","DopplerRangeComponent","constructor","dataService","ngOnInit","fetchDopplerData","console","log","getDoppler","subscribe","next","data","generateChartPoints","error","points","forEach","hour","index","distance","x","y","push","toFixed","join","ɵɵdirectiveInject","i1","DataService","selectors","decls","vars","consts","template","DopplerRangeComponent_Template","rf","ctx","DopplerRangeComponent_div_5_Template","DopplerRangeComponent_div_6_Template"],"sources":["C:\\Users\\hibab\\Desktop\\WLCN\\frontend\\src\\app\\components\\doppler-range\\doppler-range.component.ts","C:\\Users\\hibab\\Desktop\\WLCN\\frontend\\src\\app\\components\\doppler-range\\doppler-range.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../../services/data.service';\r\n\r\ninterface DopplerData {\r\n  hours: number[];\r\n  distances: number[];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-doppler-range',\r\n  templateUrl: './doppler-range.component.html',\r\n  styleUrls: ['./doppler-range.component.css']\r\n})\r\nexport class DopplerRangeComponent implements OnInit {\r\n  dopplerData: DopplerData | null = null;\r\n  chartPoints: string = '';\r\n  chartWidth = 300;\r\n  chartHeight = 200;\r\n\r\n  constructor(private dataService: DataService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchDopplerData();\r\n  }\r\n\r\n  fetchDopplerData(): void {\r\n    console.log('Fetching Doppler data...');\r\n    this.dataService.getDoppler().subscribe({\r\n      next: (data: DopplerData) => {\r\n        console.log('Doppler data received:', data);\r\n        this.dopplerData = data;\r\n        this.generateChartPoints();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error fetching Doppler data:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  private generateChartPoints(): void {\r\n    if (!this.dopplerData || !this.dopplerData.hours || !this.dopplerData.distances) {\r\n      console.error('Invalid doppler data for chart generation');\r\n      return;\r\n    }\r\n\r\n    const points: string[] = [];\r\n    \r\n    this.dopplerData.hours.forEach((hour, index) => {\r\n      const distance = this.dopplerData!.distances[index];\r\n      \r\n      // Convert hour to x position (0 to chartWidth)\r\n      const x = (hour / 23) * this.chartWidth;\r\n      \r\n      // Convert distance to y position (0m at bottom, 5m at top)\r\n      const y = (distance / 5) * this.chartHeight;\r\n      \r\n      points.push(`${x.toFixed(1)},${y.toFixed(1)}`);\r\n    });\r\n    \r\n    this.chartPoints = points.join(' ');\r\n    console.log('Chart points generated');\r\n  }\r\n}\r\n\r\n","<div class=\"doppler-range-container\">\r\n  <div class=\"doppler-header\">\r\n    <h3>Distance vs Hours</h3>\r\n  </div>\r\n  \r\n  <div class=\"doppler-visualization\">\r\n    <div class=\"chart-container\" *ngIf=\"dopplerData && chartPoints\">\r\n      <div class=\"chart-content\">\r\n        <!-- Y-axis labels (Distance 0-5m) -->\r\n        <div class=\"y-axis\">\r\n          <span class=\"y-label\">0m</span>\r\n          <span class=\"y-label\">1m</span>\r\n          <span class=\"y-label\">2m</span>\r\n          <span class=\"y-label\">3m</span>\r\n          <span class=\"y-label\">4m</span>\r\n          <span class=\"y-label\">5m</span>\r\n        </div>\r\n        \r\n        <!-- Chart area -->\r\n        <div class=\"chart-area\">\r\n          <!-- Grid lines -->\r\n          <div class=\"grid-lines\">\r\n            <!-- Horizontal grid lines -->\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 0%\"></div>\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 20%\"></div>\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 40%\"></div>\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 60%\"></div>\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 80%\"></div>\r\n            <div class=\"grid-line horizontal\" style=\"bottom: 100%\"></div>\r\n            \r\n            <!-- Vertical grid lines (every 6 hours) -->\r\n            <div class=\"grid-line vertical\" style=\"left: 0%\"></div>\r\n            <div class=\"grid-line vertical\" style=\"left: 25%\"></div>\r\n            <div class=\"grid-line vertical\" style=\"left: 50%\"></div>\r\n            <div class=\"grid-line vertical\" style=\"left: 75%\"></div>\r\n            <div class=\"grid-line vertical\" style=\"left: 100%\"></div>\r\n          </div>\r\n          \r\n          <!-- Data line -->\r\n          <svg class=\"line-graph\" [attr.viewBox]=\"'0 0 ' + chartWidth + ' ' + chartHeight\" preserveAspectRatio=\"none\">\r\n            <polyline [attr.points]=\"chartPoints\" \r\n                    fill=\"none\" \r\n                    stroke=\"#00d4ff\" \r\n                    stroke-width=\"2\"/>\r\n            \r\n            <!-- Data points -->\r\n            <circle *ngFor=\"let hour of dopplerData.hours; let i = index\"\r\n                   [attr.cx]=\"(hour / 23) * chartWidth\"\r\n                   [attr.cy]=\"chartHeight - (dopplerData.distances[i] / 5) * chartHeight\"\r\n                   r=\"3\" \r\n                   fill=\"#00d4ff\"/>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- X-axis labels (Hours) -->\r\n      <div class=\"x-axis\">\r\n        <span class=\"x-label\">0h</span>\r\n        <span class=\"x-label\">6h</span>\r\n        <span class=\"x-label\">12h</span>\r\n        <span class=\"x-label\">18h</span>\r\n        <span class=\"x-label\">24h</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"loading\" *ngIf=\"!dopplerData\">\r\n      Loading data...\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}